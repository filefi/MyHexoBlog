---
title: 《The Go Programming Language》学习笔记
date: 2022-09-30 14:24:21
updated: 2022-09-30 14:24:21
tags: [Golang]
categories: Golang
---

# 前言

## [Go语言起源](https://gopl-zh.github.io/preface.html#go语言起源)

下图展示了有哪些早期的编程语言对Go语言的设计产生了重要影响。

![img](ch0-01.png)

## [Go语言项目](https://gopl-zh.github.io/preface.html#go语言项目)

Go项目包括编程语言本身，附带了相关的工具和标准库，最后但并非代表不重要的是，关于简洁编程哲学的宣言。

Go语言的这些地方都做的还不错：

- 拥有自动垃圾回收

- 一个包系统

- 函数作为一等公民

- 词法作用域

- 系统调用接口

- 只读的UTF8字符串等

但是Go语言本身只有很少的特性：

- 没有隐式的数值转换
- 没有构造函数和析构函数
- 没有运算符重载
- 没有默认参数
- 没有继承
- 没有泛型
- ~~没有异常~~
- 没有宏
- 没有函数修饰
- 没有线程局部存储

在实践中，Go语言简洁的类型系统给程序员带来了更多的安全性和更好的运行时性能。

Go语言提供了基于`CSP`的并发特性支持。Go语言的动态栈使得轻量级线程`goroutine`的初始栈可以很小，因此，创建一个`goroutine`的代价很小，创建百万级的`goroutine`完全是可行的。

Go语言的标准库（通常被称为语言自带的电池），提供了清晰的构建模块和公共接口，包含I/O操作、文本处理、图像、密码学、网络和分布式应用程序等，并支持许多标准化的文件格式和编解码协议。

<!-- more -->

# 入门

## [Hello, World](https://gopl-zh.github.io/ch1/ch1-01.html#11-hello-world)

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, 世界") // Println 函数可以打印以空格间隔的一个或多个值，并在最后添加一个换行符
}

```

Go 是一门编译型语言，Go 语言的工具链将源代码及其依赖转换成计算机的机器指令（译注：静态编译）。

Go 语言提供的工具都通过一个单独的命令 `go` 调用，`go` 命令有一系列子命令。

`run` 子命令编译一个或多个以`.go` 结尾的源文件，链接库文件，并运行最终生成的可执行文件。

```shell
$ go run helloworld.go
Hello, 世界
```

 `build` 子命令能够编译这个程序，保存编译后的可执行文件：

```shell
$ go build helloworld.go
```

这个命令生成一个与源代码同名的可执行二进制文件，之后你可以随时运行它。

```shell
$ ./helloworld
Hello, 世界
```

Go 语言的代码通过**包**（package）组织，包类似于其它语言里的库（libraries）或者模块（modules）。一个包由位于单个目录下的一个或多个 `.go` 源代码文件组成，目录定义包的作用。每个源文件都以一条 `package` 声明语句开始，这个例子里就是 `package main`，表示该文件属于哪个包，紧跟着一系列导入（import）的包，之后是存储在这个文件里的程序语句。

Go 的标准库提供了 100 多个包，以支持常见功能，如输入、输出、排序以及文本处理。比如 `fmt` 包，就含有格式化输出、接收输入的函数。`Println` 是其中一个基础函数，可以打印以空格间隔的一个或多个值，并在最后添加一个换行符。

`main` 包比较特殊。它定义了一个独立可执行的程序，而不是一个库。在 `main` 里的 `main` *函数* 也很特殊，它是整个程序执行时的入口。`main` 函数一般调用其它包里的函数完成很多工作（如：`fmt.Println`）。

`import` 声明必须跟在文件的 `package` 声明之后，它告诉编译器源文件需要导入哪些包。`hello world` 例子只用到了一个包，大多数程序需要导入多个包。缺少了必要的包或者导入了不需要的包，程序都无法编译通过。

